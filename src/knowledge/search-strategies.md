# 検索と情報収集の戦略（Search Strategies）

## Brief

### 効果的な検索のコツ

1. **キーワードの工夫**
   - 表記ゆれ対応: 「橋梁 OR 橋りょう」
   - 除外ワード: 「NOT 委託 NOT 購入」

2. **カテゴリ指定**
   - 工事のみ検索: category="2"
   - 物品・役務を除外

3. **季節性の理解**
   - 4-5月: 閑散期、案件少ない
   - 1-3月: 繁忙期、年度末案件集中

### AI向け検索拡張ヒント

ユーザーの曖昧な入力を自動的に最適化：
- 「橋を直す」 → `(橋梁 OR 橋りょう) AND (修繕 OR 補修)`
- 「道路工事」 → `道路 AND 工事 NOT 委託 NOT コンサル`

---

## Detailed

### 2.5 検索と情報収集の「コツ」：APIの向こう側へ

KKJ APIは強力ですが、完全ではありません。熟練の担当者が行っている検索テクニックをAIに教授します。

### 2.5.1 キーワード選定の妙（Search Heuristics）

**除外キーワード（NOT検索）の活用**

「工事」で検索すると、建設工事だけでなく「工事用看板の購入（物品）」や「工事監督支援業務（委託）」もヒットします。

**テクニック**

カテゴリコード 2（工事）を指定した上で、さらにノイズを除去するために以下のクエリを推奨します：

```
query: "道路 NOT 委託 NOT コンサル NOT 購入"
category: "2"
```

**表記ゆれの吸収**

「橋梁修繕」「橋梁補修」「橋りょう改修」は同じ意味で使われますが、キーワード一致では取りこぼします。

**AIの機能**

ユーザーが「橋を直す仕事」と入力したら、AIは自動的に以下のようなクエリ展開を行うべきです：

```
query: "(橋梁 OR 橋りょう OR トンネル) AND (修繕 OR 補修 OR 改修 OR メンテナンス)"
category: "2"
```

### 2.5.2 シーズナリティ（季節性）の理解

**4月〜5月（閑散期）**
- 新年度予算の議決待ちで案件は少ない
- 「ゼロ市債」や「早期発注」案件が散見される程度

**6月〜10月（通常期）**
- 本予算の案件が順次公告される
- 計画的な受注活動が可能

**1月〜3月（繁忙期・年度末）**
- 補正予算や繰越明許費を使った案件が集中する「ラッシュ」
- 工期が短く、技術者不足が深刻化する

**AIの洞察**

2月に検索を行うユーザーに対して、AIは以下のようにコンテキストを付与します：

```
「現在は年度末の繁忙期です。工期が3月末までの案件は実質稼働日数が
極めて少ないため、資材調達のリードタイムを最優先で確認してください。」
```

### 2.5.3 外部データベースとの連携（PPI / CORINS）

**PPI（入札情報サービス）**

KKJで見つからない詳細な仕様書（PDF）や図面が、PPI（i-ppi.jp）には掲載されている場合があります。

AIは `ExternalDocumentURI` がリンク切れの場合、以下のように案内すべきです：

```
「KKJで仕様書のリンクが見つかりませんでした。PPIの地域別検索
（https://www.i-ppi.jp/）を試行してください。案件番号で検索すると
詳細な図面が取得できる可能性があります。」
```

**CORINS（コリンズ）**

競合他社の分析に不可欠です。AIは以下のようにナビゲートします：

```
「競合A社の過去の実績を知るには、CORINS（https://www.corins.org/）で
『竣工登録』を検索し、同種工事の評定点を確認することが有効です。
落札率や技術者配置の傾向を分析できます。」
```

---

## Comprehensive

### 高度な検索戦略ガイド

#### キーワード選定の戦術的アプローチ

**1. OR演算子による表記ゆれ対応**

公共工事の案件名は自治体によって表記が異なります：

| 一般的な呼称 | 公告での表記バリエーション |
| --- | --- |
| 橋梁工事 | 橋梁、橋りょう、橋、跨道橋、跨線橋 |
| 舗装工事 | 舗装、補装、路面補修、オーバーレイ |
| トンネル | トンネル、隧道（ずいどう）|
| 法面工事 | 法面、のり面、斜面 |

**推奨クエリパターン**:
```
(橋梁 OR 橋りょう OR 跨道橋 OR 跨線橋) AND (修繕 OR 補修 OR 改修)
```

**2. NOT演算子によるノイズ除外**

「工事」というキーワードだけでは、以下のような無関係な案件もヒットします：
- 「工事監理業務委託」（設計コンサル業務）
- 「工事用資材購入」（物品調達）
- 「工事看板製作」（印刷物）

**推奨クエリパターン**:
```
道路 AND 工事 NOT 委託 NOT コンサル NOT 購入 NOT 看板 NOT 製作
```

**3. ANDNOT演算子の活用**

KKJ APIは `ANDNOT` 演算子をサポートしています。これは複数のキーワードを一括で除外する際に便利です：

```
query: "橋梁 ANDNOT (委託,コンサル,物品,看板)"
```

**AIの自動クエリ拡張ロジック**

```python
def expand_user_query(user_input: str) -> str:
    # 一般的な表現を専門用語に変換
    keyword_map = {
        "橋を直す": "(橋梁 OR 橋りょう OR 跨道橋) AND (修繕 OR 補修 OR 改修)",
        "道路を直す": "(道路 OR 舗装) AND (改良 OR 補修 OR 修繕)",
        "トンネル": "(トンネル OR 隧道)",
    }

    expanded = keyword_map.get(user_input.lower(), user_input)

    # ノイズ除去を自動追加
    if "工事" in expanded:
        expanded += " NOT 委託 NOT コンサル NOT 購入"

    return expanded
```

#### シーズナリティに基づく戦略的検索

**年度初め（4〜5月）の特殊案件**

通常の本予算案件が少ない時期ですが、以下のような案件を狙えます：

**ゼロ市債（ゼロしさい）**:
- 前年度の3月に契約だけ締結し、実際の支払いは新年度予算から行う
- 早期着工が可能で、年度内の工期確保に有利

**検索ヒント**:
```
cft_issue_date: /2025-03 OR /2025-04
query: "ゼロ OR 早期発注"
```

**年度末（1〜3月）の繁忙期戦略**

案件数は最大ですが、以下のリスクがあります：
- 工期が3月末固定（実質1〜2ヶ月の突貫工事）
- 技術者の奪い合い
- 資材調達の逼迫

**AIのリスク警告**:
```
「現在2月中旬です。この時期の新規案件は工期が3月末までに設定されている
可能性が高く、実質的な作業期間は4週間程度です。資材の即納可否と
技術者の即時配置が可能かを最優先で確認してください。」
```

**推奨検索戦略**:
- 3月末工期の案件は避け、「繰越明許費」や「債務負担行為」の案件を狙う
- これらは実質的な工期が翌年度にまたがるため、余裕がある

```
query: "繰越 OR 債務負担"
cft_issue_date: 2025-01/2025-03
```

#### 外部データベースの戦略的活用

**PPI（入札情報サービス）の使い方**

KKJ APIは概要情報のみで、詳細な仕様書や図面は外部リンクに依存します。しかし、リンク切れや非公開の場合があります。

**補完戦略**:
1. KKJで案件番号・案件名を取得
2. PPI（https://www.i-ppi.jp/）で案件番号を検索
3. 仕様書・図面のPDFをダウンロード

**AIの案内例**:
```
「KKJでは仕様書のリンクが提供されていません。以下の手順で取得を試みてください：
1. PPI（https://www.i-ppi.jp/）にアクセス
2. 都道府県『東京都』、案件番号『2024-12345』で検索
3. 『設計図書』タブから仕様書をダウンロード」
```

**CORINS（工事実績情報システム）の戦略的活用**

CORINSは過去の公共工事の実績データベースで、以下の情報が取得できます：
- 発注者、受注者、工事名、工期、請負金額
- 配置技術者の氏名と資格
- 工事成績評定点（70点〜100点）

**競合分析の手法**:
```
1. 狙っている案件と同種の工事をCORINSで検索
2. 過去3年間の受注者を確認（常連企業の特定）
3. 落札率（予定価格に対する落札金額の比率）を分析
4. 配置技術者の資格レベルを確認

→ 競合の強さと、自社の勝算を見極める
```

**AIの高度なアドバイス**:
```
「この案件と同種の『○○市道路改良工事』は、過去3年間すべてA社が落札しています。
CORINSによると、A社の落札率は平均88%、配置技術者は1級土木施工管理技士です。
貴社が勝つには、同等の技術者配置に加え、総合評価での加算点（地域貢献等）で
差別化する必要があります。」
```

#### 地域・自治体ごとの検索戦略

**大都市圏（東京都、大阪府等）**
- 案件数が多く、競争が激しい
- Aランクの基準が高い（P点1,000以上）
- WTO案件が多い

**検索戦略**:
```
certification: "A"
lg_code: "13"  # 東京都
procedure_type: "1"  # 一般競争
```

**地方都市・郡部**
- 案件数は少ないが、地元企業優遇が強い
- ランク基準が緩い（P点700でAランク等）
- 市内業者限定案件が多い

**検索戦略（地域外企業の場合）**:
```
query: "WTO OR 公募型 OR 特殊"
lg_code: "23"  # 愛知県など
```

→ 地域要件が緩和されやすい大型案件や専門工事に絞る

#### AIによる「検索結果の優先順位付け」

検索結果が100件以上ヒットした場合、AIは以下の基準で優先順位を付けるべきです：

**優先度A（最優先）**:
- 申請締切まで48時間以内
- ユーザーのランク・地域要件に完全一致
- 予定価格がユーザーの希望範囲内

**優先度B（検討価値あり）**:
- 申請締切まで1週間以内
- ランクまたは地域要件のいずれかが一致
- 総合評価で加算点が狙える

**優先度C（参考情報）**:
- 締切に余裕がある
- 地域要件が厳しいが、支店設置で対応可能
- 将来の類似案件の参考になる

**AIの出力例**:
```
「100件の案件が見つかりました。優先度順に表示します：

【最優先】
1. ○○市道路改良工事（申請締切: 明後日、Bランク、市内業者）
   → 貴社の条件に完全一致。今すぐ申請準備を開始してください。

【検討推奨】
2. △△県橋梁補修工事（申請締切: 来週、Aランク、県内業者可）
   → ランクがやや高いですが、技術力で勝負可能。

【参考情報】
3. □□市舗装工事（申請締切: 2週間後、Cランク、市内本店限定）
   → 地域要件が厳しいですが、支店設置を検討する価値があります。」
```

---

## AIアドバイス例

**ケース1: 曖昧な検索の自動拡張**
```
ユーザー: 「橋を直す仕事を探して」
AI: 「検索クエリを最適化しました：
    『(橋梁 OR 橋りょう OR 跨道橋 OR 跨線橋) AND (修繕 OR 補修 OR 改修) NOT 委託』
    で検索します。」
```

**ケース2: 季節性の考慮**
```
「現在は年度末（3月）です。この時期の案件は工期が極端に短い可能性があります。
『繰越明許費』または『翌年度予算』の案件に絞ることをお勧めします。
検索条件に『繰越』キーワードを追加しますか？」
```

**ケース3: 外部データベースの案内**
```
「KKJで見つかった案件ですが、仕様書のリンクが無効です。
以下の代替手段を試してください：
1. PPI（i-ppi.jp）で案件番号『2024-56789』を検索
2. 発注者のウェブサイトで『入札公告一覧』を確認
3. 直接、発注者の担当課に電話で問い合わせ」
```
